# üìä –ú–æ–Ω–∏—Ç–æ—Ä –±–æ—Ç–∞ - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

## ‚úÖ –ß—Ç–æ —Å–æ–∑–¥–∞–Ω–æ

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã
1. **monitor.py** - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è TUI –∫–æ–Ω—Å–æ–ª—å —Å curses
2. **monitor_integration.py** - –ú–æ–¥—É–ª—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –±–æ—Ç–æ–º
3. **start_monitor.sh** - –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞ –¥–ª—è Linux
4. **MONITOR_README.md** - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
5. **monitor_cheatsheet.sh** - –®–ø–∞—Ä–≥–∞–ª–∫–∞ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### –§–∞–π–ª—ã –æ–±–º–µ–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏
- **monitor_stats.json** - –ë–æ—Ç –ø–∏—à–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
- **monitor_commands.json** - –ú–æ–Ω–∏—Ç–æ—Ä –ø–∏—à–µ—Ç –∫–æ–º–∞–Ω–¥—ã
- **bot_monitor.log** - –õ–æ–≥–∏ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
pip install psutil
```

### 2. –°–¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–ø—Ç—ã –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º–∏
```bash
chmod +x start_monitor.sh
chmod +x monitor_cheatsheet.sh
```

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä
```bash
./start_monitor.sh
```

### 4. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —à–ø–∞—Ä–≥–∞–ª–∫—É
```bash
./monitor_cheatsheet.sh
```

## üìã –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ    bot.py      ‚îÇ ‚Üê –û—Å–Ω–æ–≤–Ω–æ–π –±–æ—Ç
‚îÇ   (Telegram)   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚îú‚îÄ –ö–∞–∂–¥—ã–µ 5 —Å–µ–∫ –ø–∏—à–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤ monitor_stats.json
         ‚îú‚îÄ –ö–∞–∂–¥—ã–µ 2 —Å–µ–∫ —á–∏—Ç–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã –∏–∑ monitor_commands.json
         ‚îú‚îÄ –ü–∏—à–µ—Ç –ª–æ–≥–∏ –≤ bot_monitor.log
         ‚îÇ
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ monitor_stats  ‚îÇ ‚Üê –§–∞–π–ª —Å–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π
‚îÇ    .json       ‚îÇ   (status, uptime, users, memory, etc.)
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚ñ≤
         ‚îÇ
         ‚îÇ —á–∏—Ç–∞–µ—Ç
         ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  monitor.py    ‚îÇ ‚Üê TUI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îÇ   (curses)     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚îÇ –ø–∏—à–µ—Ç –∫–æ–º–∞–Ω–¥—ã
         ‚îÇ
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇmonitor_commands‚îÇ ‚Üê –ö–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
‚îÇ    .json       ‚îÇ   (reload, clear_cache, etc.)
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –í–∫–ª–∞–¥–∫–∞ 1: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ üìä
- –°—Ç–∞—Ç—É—Å –±–æ—Ç–∞ (running/stopped)
- Uptime (–≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã)
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (–≤—Å–µ–≥–æ/–∞–∫—Ç–∏–≤–Ω—ã—Ö)
- –î–°–ï –∑–∞–ø–∏—Å–µ–π
- –ó–∞–ø—Ä–æ—Å—ã (–≤—Å–µ–≥–æ –∏ –≤ –º–∏–Ω—É—Ç—É)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏

### –í–∫–ª–∞–¥–∫–∞ 2: –õ–æ–≥–∏ üìã
- –ü–æ—Å–ª–µ–¥–Ω–∏–µ 100 —Å—Ç—Ä–æ–∫ –ª–æ–≥–æ–≤
- –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã
- –ü—Ä–æ–∫—Ä—É—Ç–∫–∞: `‚Üë`/`‚Üì`, `PgUp`/`PgDn`

### –í–∫–ª–∞–¥–∫–∞ 3: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ üë•
- –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ID, –∏–º—è, —Ä–æ–ª—å, –ø–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ä–æ–ª—è–º

### –í–∫–ª–∞–¥–∫–∞ 4: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ ‚öôÔ∏è
- `R` - Reload stats (–æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É)
- `C` - Clear cache (–æ—á–∏—Å—Ç–∏—Ç—å –∫—ç—à)
- `L` - Clear logs (–æ—á–∏—Å—Ç–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –ª–æ–≥–∏)
- `W` - Reset watcher (—Å–±—Ä–æ—Å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –î–°–ï)
- `S` - Stop tasks (–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ñ–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏)

## ‚å®Ô∏è –ù–∞–≤–∏–≥–∞—Ü–∏—è

```
Tab / ‚Üí         - –°–ª–µ–¥—É—é—â–∞—è –≤–∫–ª–∞–¥–∫–∞
Shift+Tab / ‚Üê   - –ü—Ä–µ–¥—ã–¥—É—â–∞—è –≤–∫–ª–∞–¥–∫–∞
‚Üë / ‚Üì          - –ü—Ä–æ–∫—Ä—É—Ç–∫–∞ –≤–≤–µ—Ä—Ö/–≤–Ω–∏–∑
PgUp / PgDn     - –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞
Home            - –í –Ω–∞—á–∞–ª–æ
End             - –í –∫–æ–Ω–µ—Ü
Q / Ctrl+C      - –í—ã—Ö–æ–¥
```

## üîß –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–æ—Ç–æ–º

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —É–∂–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∞ –≤ `bot.py`:
```python
from monitor_integration import start_monitor_integration
await start_monitor_integration(application)
```

–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- ‚úÖ –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥
- ‚úÖ –ß–∏—Ç–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã –æ—Ç –º–æ–Ω–∏—Ç–æ—Ä–∞ –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã
- ‚úÖ –ü–∏—à–µ—Ç –ª–æ–≥–∏ –≤ bot_monitor.log
- ‚úÖ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

## üõ†Ô∏è –ó–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–µ

### –ß–µ—Ä–µ–∑ tmux
```bash
tmux new -s monitor
./start_monitor.sh
# Detach: Ctrl+B, D
# Attach: tmux attach -t monitor
```

### –ß–µ—Ä–µ–∑ screen
```bash
screen -S monitor
./start_monitor.sh
# Detach: Ctrl+A, D
# Attach: screen -r monitor
```

### –ß–µ—Ä–µ–∑ SSH
```bash
ssh -t user@server "cd /opt/telegrambot && ./start_monitor.sh"
```

## üìä –ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–∞–Ω–¥

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤—Ä—É—á–Ω—É—é
```bash
cat monitor_stats.json | jq '.'
```

### –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–º–∞–Ω–¥—ã –≤—Ä—É—á–Ω—É—é
```bash
echo '{"commands":[{"cmd":"reload_stats","timestamp":"'$(date +%Y-%m-%d\ %H:%M:%S)'"}]}' > monitor_commands.json
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
```bash
tail -f bot_monitor.log
```

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

1. **–ú–æ–Ω–∏—Ç–æ—Ä –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –±–æ—Ç–∞** - –æ–Ω–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ
2. **–ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –º–æ–Ω–∏—Ç–æ—Ä–∞** - –º–æ–Ω–∏—Ç–æ—Ä –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π
3. **–ö–æ–º–∞–Ω–¥—ã –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ** - —Ä–µ–∑—É–ª—å—Ç–∞—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–º
4. **–ú–∏–Ω–∏–º—É–º —Ä–µ—Å—É—Ä—Å–æ–≤** - –º–æ–Ω–∏—Ç–æ—Ä –ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç <10MB RAM

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ú–æ–Ω–∏—Ç–æ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
```bash
# –ü—Ä–∞–≤–∞ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
chmod +x start_monitor.sh

# –ü—Ä–æ–≤–µ—Ä–∫–∞ Python
python3 --version  # –ù—É–∂–µ–Ω 3.7+

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ psutil
pip3 install psutil
```

### –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–æ—Ç–∞
systemctl status telegrambot

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∞–π–ª—ã
ls -la monitor_*.json

# –õ–æ–≥–∏ –±–æ—Ç–∞
journalctl -u telegrambot -f
```

### –û—à–∏–±–∫–∞ curses
```bash
# Ubuntu/Debian
sudo apt install libncurses5-dev

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞
echo $TERM
export TERM=xterm-256color
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

- **–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: `cat MONITOR_README.md`
- **–®–ø–∞—Ä–≥–∞–ª–∫–∞**: `./monitor_cheatsheet.sh`
- **–õ–æ–≥–∏ –±–æ—Ç–∞**: `journalctl -u telegrambot -f`
- **–°—Ç–∞—Ç—É—Å –±–æ—Ç–∞**: `systemctl status telegrambot`

---

**–í–µ—Ä—Å–∏—è**: 1.0  
**–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞**: Linux  
**Python**: 3.7+  
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: psutil, curses (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞)
