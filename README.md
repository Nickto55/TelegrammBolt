#TelegramBolt - –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å –≤–µ–±-—Ç–µ—Ä–º–∏–Ω–∞–ª–æ–º# Telegram Bot - –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –î–°–ï



Telegram –±–æ—Ç —Å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º –∏ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–º SSH-–ø–æ–¥–æ–±–Ω—ã–º —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–º –≤ –±—Ä–∞—É–∑–µ—Ä–µ.Telegram –±–æ—Ç —Å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ —É—á–µ—Ç–∞.



## üìã –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏## –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è



- ‚úÖ Telegram –±–æ—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è- **–û–°**: Debian 10+ –∏–ª–∏ Ubuntu 18.04+

- ‚úÖ –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π- **Python**: 3.8+

- ‚úÖ **–í–µ–±-—Ç–µ—Ä–º–∏–Ω–∞–ª (SSH —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä)**- **–ü–∞–º—è—Ç—å**: –º–∏–Ω–∏–º—É–º 512 MB RAM

- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏- **–ú–µ—Å—Ç–æ**: ~200 MB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞

- ‚úÖ Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è PDF –æ—Ç—á–µ—Ç–æ–≤## –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

- ‚úÖ –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è `manage.sh`

### 1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç```bash

git clone <your-repo-url>

```bashcd TelegrammBolt

# 1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π```

git clone <your-repo-url>

cd TelegrammBolt### 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏

```bash

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—Échmod +x setup.sh

chmod +x setup.sh./setup.sh

./setup.sh```



# 3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

chmod +x manage.sh- –û–±–Ω–æ–≤–∏—Ç —Å–∏—Å—Ç–µ–º—É

./manage.sh- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (Python, Nginx, Certbot)

```- –°–æ–∑–¥–∞—Å—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ Python

- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç Python –ø–∞–∫–µ—Ç—ã

## üñ•Ô∏è –í–µ–±-—Ç–µ—Ä–º–∏–Ω–∞–ª (SSH —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä)- –ù–∞—Å—Ç—Ä–æ–∏—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é (–ø–æ–ø—Ä–æ—Å–∏—Ç –≤–≤–µ—Å—Ç–∏ —Ç–æ–∫–µ–Ω—ã)

- –ù–∞—Å—Ç—Ä–æ–∏—Ç –¥–æ–º–µ–Ω –∏ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ manage.sh (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):- –°–æ–∑–¥–∞—Å—Ç systemd —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞

- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

```bash

./manage.sh### 3. –ß—Ç–æ –Ω—É–∂–Ω–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –ø–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π

# –û–ø—Ü–∏—è 6: –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤–µ–± —Å —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–º (Gunicorn)

# –í—ã–±–µ—Ä–∏—Ç–µ –ø–æ—Ä—Ç: 5000 / 8080 / 3000 / —Å–≤–æ–π**–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ:**

```- `BOT_TOKEN` - –ø–æ–ª—É—á–∏—Ç–µ –æ—Ç [@BotFather](https://t.me/BotFather) –≤ Telegram

- `ADMIN_ID` - –≤–∞—à Telegram ID (—É–∑–Ω–∞–π—Ç–µ —É [@userinfobot](https://t.me/userinfobot))

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—Ä—Ç–æ–≤:- `BOT_USERNAME` - –∏–º—è –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –±–µ–∑ @



**3 —Å–ø–æ—Å–æ–±–∞ –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—Ç:****–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (–¥–ª—è email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π):**

- SMTP —Å–µ—Ä–≤–µ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, Gmail)

1. **–ß–µ—Ä–µ–∑ –º–µ–Ω—é manage.sh** (–æ–ø—Ü–∏—è 6)- Email –∏ –ø–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

2. **–ß–µ—Ä–µ–∑ config/domain.conf:**

   ```properties## –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

   WEB_PORT=8080

   ```### –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

3. **–ß–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è:**```bash

   ```bashchmod +x manage.sh

   WEB_PORT=8080 ./manage.sh./manage.sh

   ``````



**–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤:**–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏:

```bash- ‚úÖ –ó–∞–ø—É—Å–∫/–æ—Å—Ç–∞–Ω–æ–≤–∫–∞/–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

./manage.sh ‚Üí –û–ø—Ü–∏—è 11 (–î–µ—Ç–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å)- ‚úÖ –ó–∞–ø—É—Å–∫ –≤–µ–± —Å —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–º (Gunicorn + EventLet)

```- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å—Ç–∞—Ç—É—Å–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –±–æ—Ç–∞ –∏ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

### –î–æ—Å—Ç—É–ø –∫ —Ç–µ—Ä–º–∏–Ω–∞–ª—É:- ‚úÖ –¢–µ—Å—Ç –≤–µ–±-—Ç–µ—Ä–º–∏–Ω–∞–ª–∞ (–ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)

- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ systemd —Å–µ—Ä–≤–∏—Å–∞

```- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

http://–≤–∞—à_IP:5000/terminal     # –ø–æ—Ä—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

http://–≤–∞—à_IP:8080/terminal     # –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –ø–æ—Ä—Ç**–î–ª—è –≤–µ–±-—Ç–µ—Ä–º–∏–Ω–∞–ª–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–ø—Ü–∏—é 6:** "–ó–∞–ø—É—Å—Ç–∏—Ç—å –≤–µ–± —Å —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–º (Gunicorn)"

```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ systemd (–∞–≤—Ç–æ–∑–∞–ø—É—Å–∫)

‚ö†Ô∏è **–¢—Ä–µ–±—É–µ—Ç—Å—è –≤—Ö–æ–¥ –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä!**```bash

# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤

### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞:sudo systemctl start telegrambot

sudo systemctl start telegramweb

- –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π bash-—Ç–µ—Ä–º–∏–Ω–∞–ª

- –í—Å–µ –∫–æ–º–∞–Ω–¥—ã Linux (ls, cd, nano, htop, apt...)# –î–æ–±–∞–≤–∏—Ç—å –≤ –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫—É

- –¶–≤–µ—Ç–Ω–æ–π –≤—ã–≤–æ–¥ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µsudo systemctl enable telegrambot

- –ò—Å—Ç–æ—Ä–∏—è –∫–æ–º–∞–Ω–¥ (‚Üë/‚Üì)sudo systemctl enable telegramweb

- –ê–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ Tab

- –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ/–≤—Å—Ç–∞–≤–∫–∞ (Ctrl+Shift+C/V)# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å

- –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞sudo systemctl status telegrambot

- –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–ºsudo systemctl status telegramweb

```

## üîß –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã

- **–û–°**: Ubuntu 18.04+ / Debian 10+

- **Python**: 3.8+## –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

- **–ü–∞–º—è—Ç—å**: 512 MB RAM (–º–∏–Ω–∏–º—É–º)

- **–ú–µ—Å—Ç–æ**: ~200 MB–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–¥–∏–Ω –∏–∑ —Å–∫—Ä–∏–ø—Ç–æ–≤:



## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞### –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –≤—ã–±–æ—Ä

```bash

### –ß—Ç–æ –Ω—É–∂–Ω–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å:./start.sh

```

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ:**–í—ã–±–µ—Ä–∏—Ç–µ —á—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å: –±–æ—Ç, –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏–ª–∏ –æ–±–∞.

- `BOT_TOKEN` –æ—Ç [@BotFather](https://t.me/BotFather)

- `ADMIN_ID` –æ—Ç [@userinfobot](https://t.me/userinfobot)### –¢–æ–ª—å–∫–æ Telegram –±–æ—Ç

- `BOT_USERNAME` –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ (–±–µ–∑ @)```bash

./start_bot.sh

**–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ:**```

- SMTP –¥–ª—è email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

- –î–æ–º–µ–Ω –¥–ª—è SSL (Let's Encrypt)### –¢–æ–ª—å–∫–æ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

```bash

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞:### config/domain.conf (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω SSL)

–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–æ–º–µ–Ω–∞ –∏ SSL:

```bash```bash

chmod +x setup.shDOMAIN=bot.example.com

./setup.shSSL_EMAIL=admin@example.com

```WEB_PORT=5000

SSL_ENABLED=true

–°–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç:```

- Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- Nginx (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω SSL)## SSL –∏ –î–æ–º–µ–Ω

- Certbot (–¥–ª—è SSL)

- –°–æ–∑–¥–∞—Å—Ç systemd —Å–µ—Ä–≤–∏—Å—ã### –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

- –ù–∞—Å—Ç—Ä–æ–∏—Ç –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫## –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã



## üéÆ –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è manage.sh### –û—à–∏–±–∫–∞: "Permission denied"

```bash

```bashchmod +x setup.sh manage.sh

./manage.sh```

```

### –ü–æ—Ä—Ç 5000 –∏–ª–∏ 80 –∑–∞–Ω—è—Ç

### –û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø—Ü–∏–∏:–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–∞–∫–æ–π –ø—Ä–æ—Ü–µ—Å—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ—Ä—Ç:

```bash

```sudo lsof -ti:5000 | xargs kill -9  # –î–ª—è –ø–æ—Ä—Ç–∞ 5000

1.  –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ             - –ë–æ—Ç + –í–µ–±sudo lsof -ti:80 | xargs kill -9    # –î–ª—è –ø–æ—Ä—Ç–∞ 80

2.  –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ            - –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å—ë```

3.  –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ         - –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫

4.  –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç             - –¢–æ–ª—å–∫–æ Telegram –±–æ—Ç### SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è

5.  –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤–µ–±             - –¢–æ–ª—å–∫–æ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –¥–æ–º–µ–Ω —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –≤–∞—à IP

6.  –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤–µ–± + —Ç–µ—Ä–º–∏–Ω–∞–ª  - –° –≤—ã–±–æ—Ä–æ–º –ø–æ—Ä—Ç–∞! ‚≠ê2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –ø–æ—Ä—Ç—ã 80 –∏ 443 –æ—Ç–∫—Ä—ã—Ç—ã

7.  –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –±–æ—Ç–∞       - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –±–æ—Ç–∞3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ firewall: `sudo ufw allow 80,443/tcp`

8.  –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤–µ–±        - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤–µ–±

9.  –û—á–∏—Å—Ç–∫–∞ –ª–æ–≥–æ–≤             - –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –ª–æ–≥–∏### –°–µ—Ä–≤–∏—Å—ã –Ω–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è

10. –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–µ–∫—Ç           - git pull + –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:

11. –î–µ—Ç–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å          - –ü—Ä–æ—Ü–µ—Å—Å—ã + –ü–æ—Ä—Ç—ã ‚≠ê```bash

12. –¢–µ—Å—Ç –≤–µ–±-—Ç–µ—Ä–º–∏–Ω–∞–ª–∞        - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–πsudo journalctl -u telegrambot -n 50

13. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ systemd         - –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ (–≤—ã–±–æ—Ä –ø–æ—Ä—Ç–∞)sudo journalctl -u telegramweb -n 50

0.  –í—ã—Ö–æ–¥```

```

### Python –≤–µ—Ä—Å–∏—è < 3.8

## üöÄ –ó–∞–ø—É—Å–∫–û–±–Ω–æ–≤–∏—Ç–µ Python:

```bash

### –ß–µ—Ä–µ–∑ manage.sh (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):sudo apt update

sudo apt install python3.10

```bash```

./manage.sh

# –û–ø—Ü–∏—è 6 - –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–º## –ö–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

### –ß–µ—Ä–µ–∑ systemd (–∞–≤—Ç–æ–∑–∞–ø—É—Å–∫):```bash

# –ß–µ—Ä–µ–∑ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

```bash./manage.sh  # –í—ã–±–µ—Ä–∏—Ç–µ "6. –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤"

# –ó–∞–ø—É—Å–∫

sudo systemctl start telegrambot# –ù–∞–ø—Ä—è–º—É—é

sudo systemctl start telegrambolt-websudo journalctl -u telegrambot -f    # Live –ª–æ–≥–∏ –±–æ—Ç–∞

sudo journalctl -u telegramweb -f    # Live –ª–æ–≥–∏ –≤–µ–±

# –í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫tail -f /var/log/nginx/access.log    # –õ–æ–≥–∏ nginx

sudo systemctl enable telegrambot```

sudo systemctl enable telegrambolt-web

### –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å```bash

sudo systemctl status telegrambot# –ß–µ—Ä–µ–∑ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

sudo systemctl status telegrambolt-web./manage.sh  # –í—ã–±–µ—Ä–∏—Ç–µ "11. –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ"

```

# –í—Ä—É—á–Ω—É—é

### –ù–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ Python:tar -czf backup_$(date +%Y%m%d).tar.gz config/ data/

```

```bash

# –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

source .venv/bin/activate```bash

git pull

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Çsource venv/bin/activate

python bot/bot.pypip install -r requirements.txt --upgrade

sudo systemctl restart telegrambot telegramweb

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤–µ–± (–±–µ–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞)``` config/           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

python web/web_app.py‚îú‚îÄ‚îÄ data/             # –î–∞–Ω–Ω—ã–µ –∏ —Ñ–æ—Ç–æ

‚îú‚îÄ‚îÄ setup.sh          # –°–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤–µ–± —Å —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–º (Gunicorn)‚îú‚îÄ‚îÄ start.sh          # –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞

gunicorn --worker-class eventlet -w 1 \‚îî‚îÄ‚îÄ requirements.txt  # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

  --bind 0.0.0.0:5000 web.web_app:app```

```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

### config/ven_bot.json

```–û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞:

TelegrammBolt/```json

‚îú‚îÄ‚îÄ bot/                    # Telegram –±–æ—Ç{

‚îÇ   ‚îú‚îÄ‚îÄ bot.py             # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –±–æ—Ç–∞  "BOT_TOKEN": "your_bot_token",

‚îÇ   ‚îú‚îÄ‚îÄ commands.py        # –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞  "ADMIN_IDS": ["your_telegram_id"],

‚îÇ   ‚îî‚îÄ‚îÄ ...  "BOT_USERNAME": "your_bot_username"

‚îú‚îÄ‚îÄ web/                    # –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å}

‚îÇ   ‚îú‚îÄ‚îÄ web_app.py         # Flask –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ```

‚îÇ   ‚îú‚îÄ‚îÄ terminal_manager.py # –ú–µ–Ω–µ–¥–∂–µ—Ä —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–≤ ‚≠ê

‚îÇ   ‚îú‚îÄ‚îÄ templates/         # HTML —à–∞–±–ª–æ–Ω—ã### config/smtp_config.json (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ terminal.html  # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ ‚≠ê–ù–∞—Å—Ç—Ä–æ–π–∫–∏ email:

‚îÇ   ‚îî‚îÄ‚îÄ static/            # CSS, JS```json

‚îú‚îÄ‚îÄ config/                 # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è{

‚îÇ   ‚îú‚îÄ‚îÄ config.py          # –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è  "SMTP_SERVER": "smtp.gmail.com",

‚îÇ   ‚îú‚îÄ‚îÄ domain.conf        # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–æ–º–µ–Ω–∞ + WEB_PORT  "SMTP_PORT": 587,

‚îÇ   ‚îî‚îÄ‚îÄ smtp_config.json   # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ SMTP  "SMTP_USER": "your_email@gmail.com",

‚îú‚îÄ‚îÄ manage.sh              # –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è ‚≠ê  "SMTP_PASSWORD": "your_app_password",

‚îú‚îÄ‚îÄ setup.sh               # –°–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏  "FROM_NAME": "Bot Name"

‚îú‚îÄ‚îÄ requirements.txt       # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏}

‚îî‚îÄ‚îÄ README.md             # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è```

```

## –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –û—à–∏–±–∫–∞: "Permission denied"

### –í–µ–±-—Ç–µ—Ä–º–∏–Ω–∞–ª```bash

chmod +x setup.sh

‚ö†Ô∏è **–í–ê–ñ–ù–û!** –í–µ–±-—Ç–µ—Ä–º–∏–Ω–∞–ª –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º!```



- –¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ### –ü–æ—Ä—Ç 5000 –∑–∞–Ω—è—Ç

- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–ò–∑–º–µ–Ω–∏—Ç–µ –ø–æ—Ä—Ç –≤ `web/web_app.py` –∏–ª–∏ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å:

- SSL —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞```bash

- Firewall –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ —Ç–æ–ª—å–∫–æ –¥–ª—è –Ω—É–∂–Ω—ã—Ö –ø–æ—Ä—Ç–æ–≤sudo lsof -ti:5000 | xargs kill -9

```

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

### Python –≤–µ—Ä—Å–∏—è < 3.8

```bash–û–±–Ω–æ–≤–∏—Ç–µ Python:

# –ù–∞—Å—Ç—Ä–æ–π—Ç–µ UFW firewall```bash

sudo ufw allow 22/tcp          # SSHsudo apt update

sudo ufw allow 80/tcp          # HTTPsudo apt install python3.10

sudo ufw allow 443/tcp         # HTTPS```

sudo ufw allow 5000/tcp        # –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–∏–ª–∏ –≤–∞—à –ø–æ—Ä—Ç)

sudo ufw enable## –ü–æ–¥–¥–µ—Ä–∂–∫–∞



# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ SSL (Let's Encrypt)–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

./setup.sh  # –≤—ã–±–µ—Ä–∏—Ç–µ –æ–ø—Ü–∏—é SSL –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ1. –í–µ—Ä—Å–∏—é –û–°: `lsb_release -a`

```2. –í–µ—Ä—Å–∏—é Python: `python3 --version`

3. –ù–∞–ª–∏—á–∏–µ sudo –ø—Ä–∞–≤

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è4. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É



### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã:## –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ DNS –∏ SSL



- **README.md** - –≠—Ç–æ—Ç —Ñ–∞–π–ª (–æ–±—â–∏–π –æ–±–∑–æ—Ä)### –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

- **PORTS_CONFIGURATION.md** - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ø–æ—Ä—Ç–∞–º```bash

chmod +x check-dns.sh

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:./check-dns.sh

```

- `config/domain.conf` - –î–æ–º–µ–Ω –∏ –ø–æ—Ä—Ç

- `config/config.py` - –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç –∏ –ø–æ–∫–∞–∂–µ—Ç:

- `config/smtp_config.json` - Email –Ω–∞—Å—Ç—Ä–æ–π–∫–∏- IP –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞

- DNS —Ä–µ–∑–æ–ª–≤–∏–Ω–≥ –¥–æ–º–µ–Ω–∞ (–ª–æ–∫–∞–ª—å–Ω–æ –∏ —á–µ—Ä–µ–∑ Google/Cloudflare DNS)

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º- –°–æ–≤–ø–∞–¥–µ–Ω–∏–µ IP —Å–µ—Ä–≤–µ—Ä–∞ –∏ –¥–æ–º–µ–Ω–∞

- –û—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ—Ä—Ç—ã (80, 443)

### –í–µ–±-—Ç–µ—Ä–º–∏–Ω–∞–ª –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ firewall

- –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å HTTP/HTTPS

**–ü—Ä–æ–±–ª–µ–º–∞:** "websocket error" –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ (F12)- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é –ø—Ä–æ–±–ª–µ–º



**–†–µ—à–µ–Ω–∏–µ:**### –ü—Ä–æ–±–ª–µ–º—ã —Å DuckDNS

```bash

# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Gunicorn —Å eventlet (manage.sh –æ–ø—Ü–∏—è 6)–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ DuckDNS (*.duckdns.org):

# –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ python web/web_app.py –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

./manage.sh ‚Üí –û–ø—Ü–∏—è 61. **–û–±–Ω–æ–≤–∏—Ç–µ IP –∞–¥—Ä–µ—Å:**

```   ```bash

   # –£–∑–Ω–∞–π—Ç–µ —Ç–µ–∫—É—â–∏–π IP

### –ü–æ—Ä—Ç –∑–∞–Ω—è—Ç   curl ifconfig.me

   

**–ü—Ä–æ–±–ª–µ–º–∞:** "Address already in use"   # –û–±–Ω–æ–≤–∏—Ç–µ –≤ –ø–∞–Ω–µ–ª–∏ DuckDNS –∏–ª–∏ —á–µ—Ä–µ–∑ API

   curl "https://www.duckdns.org/update?domains=–≤–∞—à_–ø–æ–¥–¥–æ–º–µ–Ω&token=–≤–∞—à_—Ç–æ–∫–µ–Ω&ip="

**–†–µ—à–µ–Ω–∏–µ:**   ```

```bash

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç—ã2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ DNS:**

./manage.sh ‚Üí –û–ø—Ü–∏—è 11   ```bash

   dig +short –≤–∞—à_–¥–æ–º–µ–Ω.duckdns.org

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é   # –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å IP –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞

sudo lsof -i :5000   ```



# –ó–∞–≤–µ—Ä—à–∏—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å3. **–ï—Å–ª–∏ DNS –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç** - —Å–º. –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é:

sudo kill -9 <PID>   ```bash

   cat SSL_TROUBLESHOOTING.md

# –ò–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –¥—Ä—É–≥–æ–π –ø–æ—Ä—Ç   ```

./manage.sh ‚Üí –û–ø—Ü–∏—è 6 ‚Üí –í—ã–±–µ—Ä–∏—Ç–µ –¥—Ä—É–≥–æ–π –ø–æ—Ä—Ç

```### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã SSL



### Systemd —Å–µ—Ä–≤–∏—Å –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è–ï—Å–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:



**–ü—Ä–æ–±–ª–µ–º–∞:** –°–µ—Ä–≤–∏—Å –ø–∞–¥–∞–µ—Ç –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ**Standalone —Ä–µ–∂–∏–º (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è DuckDNS):**

```bash

**–†–µ—à–µ–Ω–∏–µ:**sudo systemctl stop nginx

```bashsudo certbot certonly --standalone -d –≤–∞—à_–¥–æ–º–µ–Ω.com

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏sudo systemctl start nginx

sudo journalctl -u telegrambolt-web -f```



# –ü–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–∏—Å**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–µ–∑ SSL (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è):**

./manage.sh ‚Üí –û–ø—Ü–∏—è 13```bash

# –î–æ—Å—Ç—É–ø –ø–æ HTTP –±–µ–∑ HTTPS

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µhttp://–≤–∞—à_–¥–æ–º–µ–Ω.com

sudo systemctl daemon-reload# –∏–ª–∏ –ø–æ IP

sudo systemctl restart telegrambolt-webhttp://–≤–∞—à_IP:5000

``````



### –ù–µ –º–æ–≥—É –≤–æ–π—Ç–∏ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: **SSL_TROUBLESHOOTING.md**



**–ü—Ä–æ–±–ª–µ–º–∞:** –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω## üñ•Ô∏è –í–µ–±-—Ç–µ—Ä–º–∏–Ω–∞–ª (SSH —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä)



**–†–µ—à–µ–Ω–∏–µ:**–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–µ—Ä–≤–µ—Ä–æ–º –ø—Ä—è–º–æ –∏–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞!

- –í–æ–π–¥–∏—Ç–µ –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ ADMIN_ID –≤ config/ven_bot.json### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π Telegram ID- ‚úÖ –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π bash-—Ç–µ—Ä–º–∏–Ω–∞–ª

- ‚úÖ –í—Å–µ –∫–æ–º–∞–Ω–¥—ã Linux (ls, cd, nano, htop, apt –∏ —Ç.–¥.)

## üìù –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã- ‚úÖ –¶–≤–µ—Ç–Ω–æ–π –≤—ã–≤–æ–¥ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –∫–æ–º–∞–Ω–¥ (—Å—Ç—Ä–µ–ª–∫–∏ –≤–≤–µ—Ä—Ö/–≤–Ω–∏–∑)

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:- ‚úÖ –ê–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ Tab

- ‚úÖ –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ/–≤—Å—Ç–∞–≤–∫–∞ (Ctrl+Shift+C / Ctrl+Shift+V)

```bash- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞

# –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏- ‚úÖ –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º

./manage.sh ‚Üí –û–ø—Ü–∏—è 7 (–ª–æ–≥–∏ –±–æ—Ç–∞)

./manage.sh ‚Üí –û–ø—Ü–∏—è 8 (–ª–æ–≥–∏ –≤–µ–±)### üöÄ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):



# –ß–µ—Ä–µ–∑ systemd```bash

sudo journalctl -u telegrambot -f# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

sudo journalctl -u telegrambolt-web -fchmod +x manage.sh

./manage.sh

# –ü—Ä–æ—Ü–µ—Å—Å—ã

ps aux | grep python# –í—ã–±–µ—Ä–∏—Ç–µ –æ–ø—Ü–∏—é 6: "–ó–∞–ø—É—Å—Ç–∏—Ç—å –≤–µ–± —Å —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–º (Gunicorn)"

htop# –ò–ª–∏ –æ–ø—Ü–∏—é 12: "–¢–µ—Å—Ç –≤–µ–±-—Ç–µ—Ä–º–∏–Ω–∞–ª–∞" –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

``````



### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞:### ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—Ä—Ç–æ–≤:



```bash–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ (–æ–ø—Ü–∏—è 6) –≤—ã –º–æ–∂–µ—Ç–µ –≤—ã–±—Ä–∞—Ç—å –ø–æ—Ä—Ç:

# –ß–µ—Ä–µ–∑ manage.sh- **5000** - –ø–æ—Ä—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

./manage.sh ‚Üí –û–ø—Ü–∏—è 10- **8080** - –ø–æ–ø—É–ª—è—Ä–Ω—ã–π –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –≤–µ–±-–ø–æ—Ä—Ç  

- **3000** - –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é- **–°–≤–æ–π –ø–æ—Ä—Ç** - –≤–≤–µ–¥–∏—Ç–µ –ª—é–±–æ–π –Ω–æ–º–µ—Ä

git pull

source .venv/bin/activate–¢–∞–∫–∂–µ –ø–æ—Ä—Ç –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å:

pip install -r requirements.txt1. **–í —Ñ–∞–π–ª–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:** `config/domain.conf` ‚Üí `WEB_PORT=8080`

./manage.sh ‚Üí –û–ø—Ü–∏—è 3 (–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫)2. **–ß–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è:** `WEB_PORT=8080 ./manage.sh`

```3. **–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –Ω–∞–ø—Ä—è–º—É—é:** `WEB_PORT=8080 python web/web_app.py`



### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–Ω—è—Ç—ã–µ –ø–æ—Ä—Ç—ã: `./manage.sh` ‚Üí –æ–ø—Ü–∏—è 11 (–¥–µ—Ç–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å)



```bash### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –∑–∞–ø—É—Å–∫–∞:

# –¢–µ—Å—Ç –≤–µ–±-—Ç–µ—Ä–º–∏–Ω–∞–ª–∞

./manage.sh ‚Üí –û–ø—Ü–∏—è 12```bash

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

# –í—Ä—É—á–Ω—É—épip install -r requirements.txt

source .venv/bin/activate

pip list | grep -E "flask-socketio|eventlet|ptyprocess|gunicorn"# –ó–∞–ø—É—Å–∫ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

```python web/web_app.py



## üåê –ü–æ—Ä—Ç—ã# –ó–∞–ø—É—Å–∫ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ (—Å –≤—ã–±–æ—Ä–æ–º –ø–æ—Ä—Ç–∞):

gunicorn --worker-class eventlet -w 1 --bind 0.0.0.0:5000 web.web_app:app  # –ø–æ—Ä—Ç 5000

### –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–æ—Ä—Ç—ã:gunicorn --worker-class eventlet -w 1 --bind 0.0.0.0:8080 web.web_app:app  # –ø–æ—Ä—Ç 8080

```

- **5000** - –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

- **8080** - –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –≤–µ–±-–ø–æ—Ä—Ç### –î–æ—Å—Ç—É–ø:

- **3000** - –ü–æ—Ä—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏1. –í–æ–π–¥–∏—Ç–µ –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–∞–∫ **–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä**

- **80** - HTTP (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω Nginx)2. –í –º–µ–Ω—é –≤—ã–±–µ—Ä–∏—Ç–µ **"–í–µ–±-—Ç–µ—Ä–º–∏–Ω–∞–ª"** –∏–ª–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ `/terminal`

- **443** - HTTPS (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω SSL)3. –ù–∞–∂–º–∏—Ç–µ **"–ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Ä–º–∏–Ω–∞–ª"**



### –ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—Ç:**URLs –¥–ª—è –¥–æ—Å—Ç—É–ø–∞:**

- `http://–≤–∞—à_—Å–µ—Ä–≤–µ—Ä:5000/terminal` - –ø–æ—Ä—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

–°–º. **PORTS_CONFIGURATION.md** –¥–ª—è –ø–æ–ª–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.- `http://–≤–∞—à_—Å–µ—Ä–≤–µ—Ä:8080/terminal` - –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –ø–æ—Ä—Ç

- `http://–≤–∞—à_—Å–µ—Ä–≤–µ—Ä:3000/terminal` - –ø–æ—Ä—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

–ë—ã—Å—Ç—Ä—ã–π —Å–ø–æ—Å–æ–±:

```bash### –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏:

./manage.sh ‚Üí –û–ø—Ü–∏—è 6 ‚Üí –í—ã–±–µ—Ä–∏—Ç–µ –ø–æ—Ä—Ç- `Ctrl+L` - –æ—á–∏—Å—Ç–∏—Ç—å —ç–∫—Ä–∞–Ω

```- `Ctrl+C` - –ø—Ä–µ—Ä–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É

- `Ctrl+D` - –≤—ã—Ö–æ–¥

## üë®‚Äçüíª –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞- `Ctrl+Shift+C` / `Ctrl+Shift+V` - –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å/–≤—Å—Ç–∞–≤–∏—Ç—å

- `‚Üë / ‚Üì` - –∏—Å—Ç–æ—Ä–∏—è –∫–æ–º–∞–Ω–¥

### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:- `Tab` - –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ



```bash### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ systemd (–∞–≤—Ç–æ–∑–∞–ø—É—Å–∫):

# –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ

source .venv/bin/activate–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

```bash

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤–µ–± —Å –æ—Ç–ª–∞–¥–∫–æ–π./manage.sh

python web/web_app.py# –í—ã–±–µ—Ä–∏—Ç–µ –æ–ø—Ü–∏—é 12: "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ systemd —Å–µ—Ä–≤–∏—Å–∞"

```

# –ò–ª–∏ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –ø–æ—Ä—Ç–∞

WEB_PORT=3000 python web/web_app.py–ò–ª–∏ –≤—Ä—É—á–Ω—É—é —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `/etc/systemd/system/telegrambolt-web.service`:

```WorkingDirectory=/path/to/TelegrammBolt

Environment="PATH=/path/to/TelegrammBolt/venv/bin"

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞:ExecStart=/path/to/TelegrammBolt/venv/bin/gunicorn --worker-class eventlet -w 1 --bind 0.0.0.0:5000 web.web_app:app

Restart=always

- `bot/` - –õ–æ–≥–∏–∫–∞ Telegram –±–æ—Ç–∞

- `web/` - Flask –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ[Install]

- `config/` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ãWantedBy=multi-user.target

- `data/` - –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π```

- `templates/` - HTML —à–∞–±–ª–æ–Ω—ã

- `static/` - CSS, JS, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ:



## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è```bash

sudo systemctl daemon-reload

[–£–∫–∞–∂–∏—Ç–µ –≤–∞—à—É –ª–∏—Ü–µ–Ω–∑–∏—é]sudo systemctl enable telegrambolt-web

sudo systemctl start telegrambolt-web

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞sudo systemctl status telegrambolt-web

```

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `./manage.sh ‚Üí –û–ø—Ü–∏—è 7 –∏–ª–∏ 8`‚ö†Ô∏è –î–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º  

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å: `./manage.sh ‚Üí –û–ø—Ü–∏—è 11`‚ö†Ô∏è –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ  

3. –ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ PORTS_CONFIGURATION.md –¥–ª—è –ø—Ä–æ–±–ª–µ–º —Å –ø–æ—Ä—Ç–∞–º–∏‚ö†Ô∏è –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

4. –û—Ç–∫—Ä–æ–π—Ç–µ Issue –Ω–∞ GitHub

### Nginx –∫–∞–∫ reverse proxy (–¥–ª—è WebSocket):

---

```nginx

**–ë—ã—Å—Ç—Ä–∞—è –ø–∞–º—è—Ç–∫–∞:**location /socket.io {

    proxy_pass http://127.0.0.1:5000;

```bash    proxy_http_version 1.1;

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞    proxy_buffering off;

./setup.sh    proxy_set_header Upgrade $http_upgrade;

    proxy_set_header Connection "Upgrade";

# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ    proxy_set_header Host $host;

./manage.sh}



# –í–µ–±-—Ç–µ—Ä–º–∏–Ω–∞–ªlocation /terminal {

./manage.sh ‚Üí –û–ø—Ü–∏—è 6    proxy_pass http://127.0.0.1:5000;

    proxy_http_version 1.1;

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ    proxy_set_header Upgrade $http_upgrade;

./manage.sh ‚Üí –û–ø—Ü–∏—è 10    proxy_set_header Connection "Upgrade";

    proxy_set_header Host $host;

# –°—Ç–∞—Ç—É—Å}

./manage.sh ‚Üí –û–ø—Ü–∏—è 11```

```

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

üöÄ **–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!**

-  **SELF_SIGNED_SSL.md** - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–º SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º
-  **SSL_TROUBLESHOOTING.md** - –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å DNS –∏ SSL (DuckDNS, Let's Encrypt)
-  **README.md** - –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (—ç—Ç–æ—Ç —Ñ–∞–π–ª)

### –ë—ã—Å—Ç—Ä—ã–µ —Å—Å—ã–ª–∫–∏:

**SSL –∏ HTTPS:**
- [–°–æ–∑–¥–∞—Ç—å —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π SSL](SELF_SIGNED_SSL.md) - –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –¥–æ–º–µ–Ω–∞, —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ä–∞–∑—É
- [–ù–∞—Å—Ç—Ä–æ–∏—Ç—å Let's Encrypt SSL](SSL_TROUBLESHOOTING.md) - –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π SSL –¥–ª—è –¥–æ–º–µ–Ω–∞
- [–ü—Ä–æ–±–ª–µ–º—ã —Å DuckDNS](SSL_TROUBLESHOOTING.md#duckdns) - DNS –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è: `./manage.sh`
- –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ DNS/SSL: `./check-dns.sh`
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞: `./setup.sh`

---

**–í–∞–∂–Ω–æ**: –•—Ä–∞–Ω–∏—Ç–µ —Ç–æ–∫–µ–Ω—ã –∏ –ø–∞—Ä–æ–ª–∏ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏. –ù–µ –ø—É–±–ª–∏–∫—É–π—Ç–µ —Ñ–∞–π–ª—ã –∏–∑ `config/` –≤ –ø—É–±–ª–∏—á–Ω—ã—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è—Ö.
